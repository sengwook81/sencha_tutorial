<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Assosi Layout</title>
<link rel="stylesheet" type="text/css"
	href="../lib/ext-4.2.1.883/resources/css/ext-all.css">
<script type="text/javascript"
	src="../lib/ext-4.2.1.883/ext-all-debug-w-comments.js">
	
</script>
</head>
<body>
	<div id="content"></div>
</body>
<script type="text/javascript">
	Ext.Loader.setConfig({
		enabled : true,
	});

	Ext.Loader.setPath({
		'Ext.ux.desktop' : '../lib/ext-4.2.1.883/examples/desktop/js',
		'MyDesktop' : '../lib/ext-4.2.1.883/examples/desktop',
		'Zero' : '../zero',
	});

	Ext.define('NestForm', {
		extend : 'Ext.form.FormPanel',
		flex : 1,
		layout : {
			type : 'vbox',
			align : 'stretch'
		},
		initComponent : function() {
			var me = this;
			Ext.apply(me, {
				items : [ {
					xtype : 'fieldcontainer',// 필드 컨테이너를 이용하여 OneRow에 여러개의 TextField배치.
					fieldLabel : 'Node Information',
					labelStyle : 'font-weight:bold;padding:0;',
					layout : {
						type : 'hbox'
					},
					defaultType : 'textfield',
					labelAlign : 'top',
					fieldDefaults : {
						labelAlign : 'top'
					},
					items : [ {
						flex : 1,
						name : 'node_name',
						itemId : 'node_name',
						fieldLabel : 'NodeName',
						allowBlank : false
					}, {
						flex : 1,
						name : 'node_addr',
						itemId : 'node_addr',
						fieldLabel : 'NodeAddress',
						margins : '0 0 0 5'
					}, {
						flex : 1,
						name : 'node_user',
						itemId : 'node_user',
						fieldLabel : 'USERID',
						allowBlank : false,
						margins : '0 0 0 5'
					}, {
						flex : 1,
						name : 'node_password',
						itemId : 'node_password',
						fieldLabel : 'PASSWORD',
						allowBlank : false,
						margins : '0 0 0 5'
					}, {
						width : 300,
						name : 'node_home',
						itemId : 'node_home',
						fieldLabel : 'HOMEPATH',
						allowBlank : false,
						margins : '0 0 0 5'
					} ]
				} ]
			});
			me.callParent(arguments);
		}
	});

	Ext.form.Basic.override({
		loadRecord : function(record) {
			console.log(record);
			this.callParent([record]);
			return this;
		}
	});
	
	Ext.onReady(function() {
		var store = Ext.create('Zero.store.install.Nodes');
		var form = Ext.create('NestForm', {
			renderTo : Ext.getBody()
		});
		store.load(function () {
			form.getForm().loadRecord(store.getAt(0));
		});
		
	})
</script>
</html>